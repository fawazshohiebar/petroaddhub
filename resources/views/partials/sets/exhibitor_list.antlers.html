<!-- The container for the scoped Vue app -->
<div id="exhibitor-container" class="exhibitor-containeradnec-container mx-auto" ></div>

<script>
  const containerSelector = '.exhibitor-container';
  const container = document.querySelector(containerSelector);

  // 1. Inject Material Design Icons (required for Vuetify icons to show)
  const mdiFont = document.createElement('link');
  mdiFont.rel = 'stylesheet';
  mdiFont.href = 'https://cdn.jsdelivr.net/npm/@mdi/font@7.3.67/css/materialdesignicons.min.css';
  document.head.appendChild(mdiFont);

  // 2. Fetch and scope the third-party CSS
  fetch('https://ezone-exhibitor-list.s3.me-central-1.amazonaws.com/assets/index.css?id=123456444')
    .then(res => res.text())
    .then(originalCss => {
      const scopedCss = originalCss.replace(/(^|\})\s*([^{@}]+)\s*\{/g, (match, sep, selectors) => {
        const scoped = selectors
          .split(',')
          .map(sel => `${containerSelector} ${sel.trim()}`)
          .join(', ');
        return `${sep} ${scoped} {`;
      });

      const style = document.createElement('style');
      style.textContent = scopedCss;
      document.head.appendChild(style);
    });

  // 3. Inject the expected HTML structure into the container
  container.innerHTML = `
    <div
      id="app"
      class="exhibitor-list-app"
      data-base-url="https://ezone.adihex.com"
      data-main-color="grey"
      data-color-level="darken-4"
      data-event-id="4"
      data-event-type="ADIHEX"
      data-has-products
      data-scroll-margin-top="250"
    ></div>
  `;

  // 4. Load the Vue app (JS bundle)
  const script = document.createElement('script');
  script.type = 'module';
  script.crossOrigin = 'anonymous';
  script.src = 'https://ezone-exhibitor-list.s3.me-central-1.amazonaws.com/assets/index.js?id=123456444';
  document.body.appendChild(script);
</script>

<!-- 5. Optional: Force containment (prevent layout bleed, extra protection) -->
 